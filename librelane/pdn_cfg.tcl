# PDN Configuration
# Generated by sram-forge
# Chip: gf180mcu_ic_1x1_sram_u8b24k

# Power grid configuration for GF180MCU with SRAM macros

# Define power nets
set ::power_nets "VDD"
set ::ground_nets "VSS"

# Standard cell power connections
add_global_connection -net VDD -pin_pattern "VDD" -power
add_global_connection -net VSS -pin_pattern "VSS" -ground

# SRAM macro power connections
add_global_connection -net VDD -pin_pattern "VDD" -power -inst_pattern "gf180mcu_fd_ip_sram__sram512x8m8wm1.*"
add_global_connection -net VSS -pin_pattern "VSS" -ground -inst_pattern "gf180mcu_fd_ip_sram__sram512x8m8wm1.*"

# Define voltage domains
set_voltage_domain -name CORE -power VDD -ground VSS

# Define standard cell grid
define_pdn_grid -name stdcell_grid -voltage_domains CORE \
    -macro -cells "gf180mcu_fd_ip_sram__sram512x8m8wm1" \
    -halo {10 10 10 10}

# Core power grid stripes
add_pdn_stripe -layer Metal3 -width 2.0 -pitch 50.0 -offset 2.0 -direction vertical
add_pdn_stripe -layer Metal4 -width 2.0 -pitch 50.0 -offset 2.0 -direction horizontal
add_pdn_stripe -layer Metal5 -width 5.0 -pitch 100.0 -offset 5.0 -direction vertical

# Connect stripes between layers
add_pdn_connect -layers {Metal3 Metal4}
add_pdn_connect -layers {Metal4 Metal5}

# Connect standard cells to grid
add_pdn_connect -layers {Metal1 Metal3} -std_cell_pin_only

# SRAM macro ring around each instance
# Ring for sram_0
# Ring for sram_1
# Ring for sram_2
# Ring for sram_3
# Ring for sram_4
# Ring for sram_5
# Ring for sram_6
# Ring for sram_7
# Ring for sram_8
# Ring for sram_9
# Ring for sram_10
# Ring for sram_11
# Ring for sram_12
# Ring for sram_13
# Ring for sram_14
# Ring for sram_15
# Ring for sram_16
# Ring for sram_17
# Ring for sram_18
# Ring for sram_19
# Ring for sram_20
# Ring for sram_21
# Ring for sram_22
# Ring for sram_23
# Ring for sram_24
# Ring for sram_25
# Ring for sram_26
# Ring for sram_27
# Ring for sram_28
# Ring for sram_29
# Ring for sram_30
# Ring for sram_31
# Ring for sram_32
# Ring for sram_33
# Ring for sram_34
# Ring for sram_35
# Ring for sram_36
# Ring for sram_37
# Ring for sram_38
# Ring for sram_39
# Ring for sram_40
# Ring for sram_41
# Ring for sram_42
# Ring for sram_43
# Ring for sram_44
# Ring for sram_45
# Ring for sram_46
# Ring for sram_47
# SRAM rings use Metal3/Metal4 with halo spacing

# IO ring connections
add_pdn_ring -layers {Metal4 Metal5} -widths {5.0 5.0} -spacings {2.0 2.0} -core_offset {10 10}